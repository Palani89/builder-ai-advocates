<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Start SIP - GoldApp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #ffd700;
        --primary-dark: #daa520;
        --secondary: #10b981;
        --background: #f8fafc;
        --surface: #ffffff;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --text-muted: #94a3b8;
        --border: #e2e8f0;
        --success: #10b981;
        --error: #ef4444;
        --warning: #f59e0b;
        --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      body {
        font-family: "Inter", sans-serif;
        background: var(--background);
        color: var(--text-primary);
        margin: 0;
        padding: 0;
      }

      .sip-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
        min-height: 100vh;
      }

      .sip-header {
        text-align: center;
        margin-bottom: 3rem;
      }

      .sip-logo {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        margin: 0 auto 1.5rem;
      }

      .sip-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .sip-subtitle {
        color: var(--text-secondary);
        font-size: 1rem;
      }

      .sip-benefits {
        background: var(--surface);
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: var(--shadow);
      }

      .benefits-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .benefit-card {
        background: var(--background);
        border-radius: 8px;
        padding: 1.5rem;
        text-align: center;
      }

      .benefit-icon {
        width: 60px;
        height: 60px;
        background: rgba(255, 215, 0, 0.1);
        color: var(--primary-dark);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin: 0 auto 1rem;
      }

      .benefit-title {
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .benefit-desc {
        font-size: 0.875rem;
        color: var(--text-secondary);
        line-height: 1.5;
      }

      .sip-form-section {
        background: var(--surface);
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: var(--shadow);
      }

      .section-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .section-icon {
        width: 50px;
        height: 50px;
        background: rgba(255, 215, 0, 0.1);
        color: var(--primary-dark);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
      }

      .section-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-primary);
        margin: 0;
      }

      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .form-group.full-width {
        grid-column: 1 / -1;
      }

      .form-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-primary);
      }

      .required {
        color: var(--error);
      }

      .form-input,
      .form-select {
        padding: 0.875rem;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-size: 0.875rem;
        background: var(--surface);
        transition: border-color 0.2s ease;
      }

      .form-input:focus,
      .form-select:focus {
        outline: none;
        border-color: var(--primary-dark);
        box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
      }

      .amount-presets {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 0.5rem;
        margin-top: 0.5rem;
      }

      .preset-btn {
        padding: 0.5rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 6px;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .preset-btn:hover,
      .preset-btn.active {
        background: var(--primary);
        border-color: var(--primary);
        color: var(--text-primary);
      }

      .frequency-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 1rem;
        margin-top: 0.5rem;
      }

      .frequency-option {
        padding: 1rem;
        background: var(--background);
        border: 2px solid var(--border);
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .frequency-option:hover,
      .frequency-option.active {
        border-color: var(--primary-dark);
        background: rgba(255, 215, 0, 0.05);
      }

      .frequency-title {
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
      }

      .frequency-desc {
        font-size: 0.75rem;
        color: var(--text-secondary);
      }

      .calculator-section {
        background: var(--surface);
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: var(--shadow);
      }

      .calculator-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin-top: 1.5rem;
      }

      .calculator-inputs {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .calculator-results {
        background: var(--background);
        border-radius: 8px;
        padding: 1.5rem;
      }

      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 0;
        border-bottom: 1px solid var(--border);
      }

      .result-item:last-child {
        border-bottom: none;
        font-weight: 600;
        font-size: 1.125rem;
        color: var(--primary-dark);
      }

      .result-label {
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      .result-value {
        color: var(--text-primary);
        font-weight: 500;
      }

      .slider-container {
        margin: 1rem 0;
      }

      .slider {
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: var(--border);
        outline: none;
        opacity: 0.7;
        transition: opacity 0.2s;
      }

      .slider:hover {
        opacity: 1;
      }

      .slider::-webkit-slider-thumb {
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary-dark);
        cursor: pointer;
      }

      .slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary-dark);
        cursor: pointer;
        border: none;
      }

      .payment-methods {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .payment-method {
        background: var(--background);
        border: 2px solid var(--border);
        border-radius: 8px;
        padding: 1rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .payment-method:hover,
      .payment-method.active {
        border-color: var(--primary-dark);
        background: rgba(255, 215, 0, 0.05);
      }

      .payment-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 0.5rem;
      }

      .payment-icon {
        width: 40px;
        height: 40px;
        background: rgba(255, 215, 0, 0.1);
        color: var(--primary-dark);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
      }

      .payment-title {
        font-weight: 600;
        color: var(--text-primary);
      }

      .payment-desc {
        font-size: 0.8rem;
        color: var(--text-secondary);
      }

      .summary-section {
        background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        color: white;
      }

      .summary-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
      }

      .summary-item {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 1.5rem;
        text-align: center;
      }

      .summary-label {
        font-size: 0.875rem;
        opacity: 0.9;
        margin-bottom: 0.5rem;
      }

      .summary-value {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
      }

      .summary-sub {
        font-size: 0.75rem;
        opacity: 0.8;
      }

      .btn {
        padding: 0.875rem 2rem;
        border: none;
        border-radius: 8px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.2s ease;
        text-decoration: none;
      }

      .btn-primary {
        background: var(--primary);
        color: var(--text-primary);
      }

      .btn-primary:hover {
        background: var(--primary-dark);
      }

      .btn-secondary {
        background: var(--surface);
        color: var(--text-primary);
        border: 1px solid var(--border);
      }

      .btn-secondary:hover {
        background: var(--background);
      }

      .btn-large {
        padding: 1rem 2rem;
        font-size: 1rem;
        width: 100%;
        justify-content: center;
      }

      .sip-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-top: 2rem;
      }

      .info-box {
        background: rgba(59, 130, 246, 0.05);
        border: 1px solid rgba(59, 130, 246, 0.2);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1.5rem;
      }

      .info-box-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
        color: #3b82f6;
        font-weight: 600;
        font-size: 0.875rem;
      }

      .info-box-content {
        font-size: 0.8rem;
        color: var(--text-secondary);
        line-height: 1.5;
      }

      @media (max-width: 768px) {
        .sip-container {
          padding: 1rem;
        }

        .form-grid {
          grid-template-columns: 1fr;
        }

        .calculator-grid {
          grid-template-columns: 1fr;
        }

        .benefits-grid {
          grid-template-columns: 1fr;
        }

        .frequency-options {
          grid-template-columns: 1fr;
        }

        .payment-methods {
          grid-template-columns: 1fr;
        }

        .summary-grid {
          grid-template-columns: 1fr;
        }

        .sip-actions {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="sip-container">
      <!-- SIP Header -->
      <div class="sip-header">
        <div class="sip-logo">
          <i class="fas fa-calendar-alt"></i>
        </div>
        <h1 class="sip-title">Start Your Gold SIP</h1>
        <p class="sip-subtitle">
          Systematic Investment Plan for steady gold accumulation
        </p>
      </div>

      <!-- Benefits Section -->
      <div class="sip-benefits">
        <h2 class="benefits-title">Why Gold SIP?</h2>
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="benefit-title">Rupee Cost Averaging</div>
            <div class="benefit-desc">
              Buy more gold when prices are low, less when high. Reduces average
              cost over time.
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="fas fa-piggy-bank"></i>
            </div>
            <div class="benefit-title">Disciplined Savings</div>
            <div class="benefit-desc">
              Automated monthly investments help build a saving habit without
              manual effort.
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="benefit-title">Inflation Protection</div>
            <div class="benefit-desc">
              Gold traditionally hedges against inflation, protecting your
              purchasing power.
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="fas fa-coins"></i>
            </div>
            <div class="benefit-title">Small Amounts</div>
            <div class="benefit-desc">
              Start with as little as ₹500/month. No need for large upfront
              investment.
            </div>
          </div>
        </div>
      </div>

      <!-- SIP Calculator -->
      <div class="calculator-section">
        <div class="section-header">
          <div class="section-icon">
            <i class="fas fa-calculator"></i>
          </div>
          <h2 class="section-title">SIP Calculator</h2>
        </div>

        <div class="calculator-grid">
          <div class="calculator-inputs">
            <div class="form-group">
              <label class="form-label">Monthly Investment Amount</label>
              <input
                type="number"
                class="form-input"
                id="monthlyAmount"
                value="5000"
                min="500"
                max="100000"
                oninput="calculateSIP()"
              />
              <div class="slider-container">
                <input
                  type="range"
                  class="slider"
                  id="amountSlider"
                  min="500"
                  max="50000"
                  value="5000"
                  step="500"
                  oninput="updateAmountFromSlider()"
                />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Investment Duration (months)</label>
              <input
                type="number"
                class="form-input"
                id="duration"
                value="12"
                min="6"
                max="240"
                oninput="calculateSIP()"
              />
              <div class="slider-container">
                <input
                  type="range"
                  class="slider"
                  id="durationSlider"
                  min="6"
                  max="120"
                  value="12"
                  step="1"
                  oninput="updateDurationFromSlider()"
                />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Expected Annual Return (%)</label>
              <input
                type="number"
                class="form-input"
                id="returnRate"
                value="8"
                min="0"
                max="20"
                step="0.5"
                oninput="calculateSIP()"
              />
              <div class="slider-container">
                <input
                  type="range"
                  class="slider"
                  id="returnSlider"
                  min="0"
                  max="20"
                  value="8"
                  step="0.5"
                  oninput="updateReturnFromSlider()"
                />
              </div>
            </div>
          </div>

          <div class="calculator-results">
            <h3 style="margin-bottom: 1rem; color: var(--text-primary)">
              Expected Results
            </h3>
            <div class="result-item">
              <span class="result-label">Total Investment</span>
              <span class="result-value" id="totalInvestment">₹60,000</span>
            </div>
            <div class="result-item">
              <span class="result-label">Expected Returns</span>
              <span class="result-value" id="expectedReturns">₹2,600</span>
            </div>
            <div class="result-item">
              <span class="result-label">Gold Quantity (approx)</span>
              <span class="result-value" id="goldQuantity">10.02g</span>
            </div>
            <div class="result-item">
              <span class="result-label">Maturity Value</span>
              <span class="result-value" id="maturityValue">₹62,600</span>
            </div>
          </div>
        </div>
      </div>

      <!-- SIP Setup Form -->
      <div class="sip-form-section">
        <div class="section-header">
          <div class="section-icon">
            <i class="fas fa-cog"></i>
          </div>
          <h2 class="section-title">SIP Configuration</h2>
        </div>

        <form id="sipForm">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label"
                >SIP Amount <span class="required">*</span></label
              >
              <input
                type="number"
                class="form-input"
                id="sipAmount"
                placeholder="5000"
                min="500"
                required
              />
              <div class="amount-presets">
                <button
                  type="button"
                  class="preset-btn"
                  onclick="setAmount(500)"
                >
                  ₹500
                </button>
                <button
                  type="button"
                  class="preset-btn"
                  onclick="setAmount(1000)"
                >
                  ₹1K
                </button>
                <button
                  type="button"
                  class="preset-btn"
                  onclick="setAmount(2000)"
                >
                  ₹2K
                </button>
                <button
                  type="button"
                  class="preset-btn"
                  onclick="setAmount(5000)"
                >
                  ₹5K
                </button>
                <button
                  type="button"
                  class="preset-btn"
                  onclick="setAmount(10000)"
                >
                  ₹10K
                </button>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label"
                >Metal Type <span class="required">*</span></label
              >
              <select class="form-select" required>
                <option value="gold">Gold (₹6,250/g)</option>
                <option value="silver">Silver (₹75.50/g)</option>
                <option value="platinum">Platinum (₹2,845/g)</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label"
                >Start Date <span class="required">*</span></label
              >
              <input type="date" class="form-input" required />
            </div>

            <div class="form-group">
              <label class="form-label">End Date (Optional)</label>
              <input type="date" class="form-input" />
              <small style="color: var(--text-muted); font-size: 0.75rem"
                >Leave empty for perpetual SIP</small
              >
            </div>
          </div>

          <div class="form-group full-width">
            <label class="form-label"
              >Frequency <span class="required">*</span></label
            >
            <div class="frequency-options">
              <div
                class="frequency-option active"
                onclick="selectFrequency(this, 'monthly')"
              >
                <div class="frequency-title">Monthly</div>
                <div class="frequency-desc">Every month</div>
              </div>
              <div
                class="frequency-option"
                onclick="selectFrequency(this, 'weekly')"
              >
                <div class="frequency-title">Weekly</div>
                <div class="frequency-desc">Every week</div>
              </div>
              <div
                class="frequency-option"
                onclick="selectFrequency(this, 'daily')"
              >
                <div class="frequency-title">Daily</div>
                <div class="frequency-desc">Every day</div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- Payment Method -->
      <div class="sip-form-section">
        <div class="section-header">
          <div class="section-icon">
            <i class="fas fa-credit-card"></i>
          </div>
          <h2 class="section-title">Payment Method</h2>
        </div>

        <div class="info-box">
          <div class="info-box-header">
            <i class="fas fa-shield-alt"></i>
            Auto-Debit Setup
          </div>
          <div class="info-box-content">
            Setting up auto-debit ensures your SIP continues without manual
            intervention. You can pause or stop anytime.
          </div>
        </div>

        <div class="payment-methods">
          <div
            class="payment-method active"
            onclick="selectPayment(this, 'upi')"
          >
            <div class="payment-header">
              <div class="payment-icon">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <div class="payment-title">UPI Auto-Pay</div>
            </div>
            <div class="payment-desc">
              Automatic deduction from your UPI app. Setup one-time mandate.
            </div>
          </div>

          <div class="payment-method" onclick="selectPayment(this, 'emandate')">
            <div class="payment-header">
              <div class="payment-icon">
                <i class="fas fa-university"></i>
              </div>
              <div class="payment-title">Bank E-Mandate</div>
            </div>
            <div class="payment-desc">
              Direct debit from your bank account via NACH mandate.
            </div>
          </div>

          <div class="payment-method" onclick="selectPayment(this, 'card')">
            <div class="payment-header">
              <div class="payment-icon">
                <i class="fas fa-credit-card"></i>
              </div>
              <div class="payment-title">Card Auto-Pay</div>
            </div>
            <div class="payment-desc">
              Automatic charging to your debit/credit card.
            </div>
          </div>
        </div>
      </div>

      <!-- SIP Summary -->
      <div class="summary-section" id="sipSummary">
        <h2 class="summary-title">Your SIP Summary</h2>
        <div class="summary-grid">
          <div class="summary-item">
            <div class="summary-label">Monthly Investment</div>
            <div class="summary-value" id="summaryAmount">₹5,000</div>
            <div class="summary-sub">in Gold</div>
          </div>
          <div class="summary-item">
            <div class="summary-label">Expected Monthly Gold</div>
            <div class="summary-value" id="summaryGold">0.80g</div>
            <div class="summary-sub">at current rate</div>
          </div>
          <div class="summary-item">
            <div class="summary-label">Frequency</div>
            <div class="summary-value" id="summaryFreq">Monthly</div>
            <div class="summary-sub">auto-debit</div>
          </div>
          <div class="summary-item">
            <div class="summary-label">Payment Method</div>
            <div class="summary-value" id="summaryPayment">UPI</div>
            <div class="summary-sub">auto-pay</div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="sip-actions">
        <button class="btn btn-secondary" onclick="goBack()">
          <i class="fas fa-arrow-left"></i>
          Cancel
        </button>
        <button class="btn btn-primary btn-large" onclick="startSIP()">
          <i class="fas fa-play"></i>
          Start My SIP
        </button>
      </div>
    </div>

    <script>
      let selectedFrequency = "monthly";
      let selectedPayment = "upi";

      function calculateSIP() {
        const amount =
          parseInt(document.getElementById("monthlyAmount").value) || 5000;
        const duration =
          parseInt(document.getElementById("duration").value) || 12;
        const rate =
          parseFloat(document.getElementById("returnRate").value) || 8;

        const monthlyRate = rate / 100 / 12;
        const totalInvestment = amount * duration;

        // SIP maturity calculation
        const maturityValue =
          amount *
          (((Math.pow(1 + monthlyRate, duration) - 1) / monthlyRate) *
            (1 + monthlyRate));
        const expectedReturns = maturityValue - totalInvestment;
        const goldRate = 6250; // Current gold rate
        const goldQuantity = maturityValue / goldRate;

        document.getElementById("totalInvestment").textContent =
          `₹${totalInvestment.toLocaleString()}`;
        document.getElementById("expectedReturns").textContent =
          `₹${Math.round(expectedReturns).toLocaleString()}`;
        document.getElementById("maturityValue").textContent =
          `₹${Math.round(maturityValue).toLocaleString()}`;
        document.getElementById("goldQuantity").textContent =
          `${goldQuantity.toFixed(2)}g`;
      }

      function updateAmountFromSlider() {
        const value = document.getElementById("amountSlider").value;
        document.getElementById("monthlyAmount").value = value;
        calculateSIP();
      }

      function updateDurationFromSlider() {
        const value = document.getElementById("durationSlider").value;
        document.getElementById("duration").value = value;
        calculateSIP();
      }

      function updateReturnFromSlider() {
        const value = document.getElementById("returnSlider").value;
        document.getElementById("returnRate").value = value;
        calculateSIP();
      }

      function setAmount(amount) {
        document.getElementById("sipAmount").value = amount;

        // Update preset button styles
        document
          .querySelectorAll(".preset-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        updateSummary();
      }

      function selectFrequency(element, frequency) {
        document
          .querySelectorAll(".frequency-option")
          .forEach((opt) => opt.classList.remove("active"));
        element.classList.add("active");
        selectedFrequency = frequency;
        updateSummary();
      }

      function selectPayment(element, payment) {
        document
          .querySelectorAll(".payment-method")
          .forEach((method) => method.classList.remove("active"));
        element.classList.add("active");
        selectedPayment = payment;
        updateSummary();
      }

      function updateSummary() {
        const amount =
          parseInt(document.getElementById("sipAmount").value) || 5000;
        const goldRate = 6250;
        const goldQuantity = amount / goldRate;

        document.getElementById("summaryAmount").textContent =
          `₹${amount.toLocaleString()}`;
        document.getElementById("summaryGold").textContent =
          `${goldQuantity.toFixed(3)}g`;
        document.getElementById("summaryFreq").textContent =
          selectedFrequency.charAt(0).toUpperCase() +
          selectedFrequency.slice(1);

        const paymentNames = {
          upi: "UPI",
          emandate: "E-Mandate",
          card: "Card",
        };
        document.getElementById("summaryPayment").textContent =
          paymentNames[selectedPayment];
      }

      function startSIP() {
        const form = document.getElementById("sipForm");
        if (!form.checkValidity()) {
          alert("Please fill all required fields");
          form.reportValidity();
          return;
        }

        const amount = document.getElementById("sipAmount").value;
        if (!amount || amount < 500) {
          alert("Minimum SIP amount is ₹500");
          return;
        }

        // Simulate SIP creation
        alert(
          `SIP created successfully!\n\nAmount: ₹${amount}\nFrequency: ${selectedFrequency}\nPayment: ${selectedPayment}\n\nFirst deduction will happen on the start date.`,
        );

        // In a real app, this would submit to the server
        console.log("SIP Data:", {
          amount: amount,
          frequency: selectedFrequency,
          payment: selectedPayment,
          startDate: form.querySelector('input[type="date"]').value,
        });
      }

      function goBack() {
        if (confirm("Are you sure you want to cancel SIP setup?")) {
          window.history.back();
        }
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        calculateSIP();
        updateSummary();

        // Set minimum date to tomorrow
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.querySelector('input[type="date"]').min = tomorrow
          .toISOString()
          .split("T")[0];
        document.querySelector('input[type="date"]').value = tomorrow
          .toISOString()
          .split("T")[0];
      });

      // Update summary when amount changes
      document
        .getElementById("sipAmount")
        .addEventListener("input", updateSummary);
    </script>
  </body>
</html>
