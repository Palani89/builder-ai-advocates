<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cases - AI Advocates</title>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Global Language Support -->
    <script src="app-language.js"></script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #4c4cdd;
        --primary-dark: #3d3cb8;
        --primary-light: #6666e3;
        --secondary: #10b981;
        --background: #f8fafc;
        --surface: #ffffff;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --text-muted: #94a3b8;
        --border: #e2e8f0;
        --border-active: #4c4cdd;
        --success: #10b981;
        --error: #ef4444;
        --warning: #f59e0b;
        --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }

      /* Success Banner */
      .success-banner {
        position: fixed;
        top: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--success);
        color: white;
        padding: 1rem 2rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 1rem;
        box-shadow: var(--shadow-lg);
        z-index: 100;
        font-size: 0.875rem;
        min-width: 400px;
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
        transition: all 0.3s ease;
      }

      .success-banner.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      .success-banner .success-icon {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .success-banner .close-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        cursor: pointer;
        margin-left: auto;
        font-size: 0.75rem;
      }

      .success-banner .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background: var(--background);
        color: var(--text-primary);
        line-height: 1.6;
        min-height: 100vh;
        padding-top: 80px;
        padding-bottom: 80px;
      }

      .app-container {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* Header */
      .header {
        background: var(--surface);
        border-bottom: 1px solid var(--border);
        padding: 1rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: var(--shadow);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .menu-toggle {
        background: none;
        border: none;
        font-size: 1.25rem;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 6px;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .logo-icon {
        width: 32px;
        height: 32px;
        background: var(--primary);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1rem;
      }

      .logo-text {
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--primary);
      }

      .page-title {
        font-size: 0.875rem;
        color: var(--text-secondary);
        margin-left: 0.5rem;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .add-case-btn {
        background: var(--text-primary);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .notification-icon {
        position: relative;
        background: none;
        border: none;
        font-size: 1.125rem;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 6px;
      }

      .notification-badge {
        position: absolute;
        top: 0.25rem;
        right: 0.25rem;
        background: var(--error);
        color: white;
        font-size: 0.75rem;
        font-weight: 600;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .user-avatar {
        width: 32px;
        height: 32px;
        background: var(--primary-light);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        cursor: pointer;
      }

      /* Main Content */
      .main-content {
        flex: 1;
        padding: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
      }

      .page-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1.5rem;
      }

      .page-title-section h1 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .page-subtitle {
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      /* Breadcrumb */
      .breadcrumb {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin: 0.75rem 0 1.5rem 0;
        font-size: 0.875rem;
      }

      .breadcrumb-item {
        color: var(--text-secondary);
        text-decoration: none;
        transition: color 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.25rem;
      }

      .breadcrumb-item:hover {
        color: var(--primary);
      }

      .breadcrumb-item.active {
        color: var(--text-primary);
        font-weight: 500;
      }

      .breadcrumb-separator {
        color: var(--text-muted);
        font-size: 0.75rem;
      }

      /* Tabs */
      .tabs-container {
        margin-bottom: 1.5rem;
      }

      .tabs {
        display: flex;
        gap: 2rem;
        border-bottom: 1px solid var(--border);
      }

      .tab {
        padding: 0.75rem 0;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-secondary);
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
      }

      /* Tab Content */
      .tab-content {
        margin-top: 1rem;
      }

      .tab-pane {
        display: none;
      }

      .tab-pane.active {
        display: block;
      }

      /* Additional Status Badge Colors */
      .status-badge.disposed {
        background: #f3f4f6;
        color: #6b7280;
      }

      .status-badge.appealed {
        background: #fef3c7;
        color: #d97706;
      }

      .status-badge.settled {
        background: #d1fae5;
        color: #059669;
      }

      .status-badge.commercial {
        background: #e0e7ff;
        color: #4338ca;
      }

      .status-badge.labor {
        background: #fce7f3;
        color: #be185d;
      }

      .status-badge.family {
        background: #ecfdf5;
        color: #047857;
      }

      /* Archive Button Styling */
      .archive-btn {
        background: var(--text-muted);
        color: white;
      }

      .archive-btn:hover {
        background: #6b7280;
      }

      /* Responsive Design for Tabs */
      @media (max-width: 768px) {
        .tabs {
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .tab {
          flex: 1;
          min-width: 80px;
          text-align: center;
          font-size: 0.8rem;
          padding: 0.5rem 0.25rem;
        }

        .cases-list {
          flex-direction: column;
        }

        .case-card {
          margin-bottom: 1rem;
        }

        .case-actions {
          flex-direction: column;
          gap: 0.5rem;
        }

        .action-btn {
          width: 100%;
          text-align: center;
        }
      }

      @media (max-width: 480px) {
        .tab {
          font-size: 0.7rem;
          padding: 0.4rem 0.2rem;
        }
      }

      /* Search */
      .search-container {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        align-items: center;
      }

      .search-box {
        flex: 1;
        position: relative;
      }

      .search-input {
        width: 100%;
        padding: 0.75rem 0.75rem 0.75rem 2.5rem;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-size: 0.875rem;
        background: var(--surface);
      }

      .search-icon {
        position: absolute;
        left: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        font-size: 0.875rem;
      }

      .search-btn {
        padding: 0.75rem 1rem;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 0.875rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      /* Case Cards */
      .cases-list {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .case-card {
        background: var(--surface);
        border-radius: 12px;
        border: 1px solid var(--border);
        padding: 1.5rem;
        box-shadow: var(--shadow);
      }

      .case-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
      }

      .case-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
      }

      .case-subtitle {
        font-size: 0.875rem;
        color: var(--text-secondary);
      }

      .case-status {
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }

      .status-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 500;
      }

      .status-badge.active {
        background: rgba(16, 185, 129, 0.1);
        color: var(--success);
      }

      .status-badge.pending {
        background: rgba(245, 158, 11, 0.1);
        color: var(--warning);
      }

      .status-badge.criminal {
        background: rgba(239, 68, 68, 0.1);
        color: var(--error);
      }

      .status-badge.civil {
        background: rgba(59, 130, 246, 0.1);
        color: #3b82f6;
      }

      .case-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .case-detail {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .detail-label {
        font-size: 0.75rem;
        color: var(--text-muted);
        font-weight: 500;
      }

      .detail-value {
        font-size: 0.875rem;
        color: var(--text-primary);
      }

      .case-actions {
        display: flex;
        gap: 0.75rem;
        margin-top: 1rem;
      }

      .action-btn {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .view-btn {
        background: var(--background);
        color: var(--text-primary);
        border: 1px solid var(--border);
      }

      .update-btn {
        background: var(--text-primary);
        color: white;
      }

      .case-meta {
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border);
      }

      /* Bottom Navigation */
      .bottom-nav {
        background: var(--surface);
        border-top: 1px solid var(--border);
        padding: 0.75rem;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 100;
      }

      .nav-items {
        display: flex;
        justify-content: space-around;
        max-width: 600px;
        margin: 0 auto;
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
        text-decoration: none;
        color: var(--text-secondary);
        font-size: 0.75rem;
        font-weight: 500;
        transition: color 0.2s ease;
      }

      .nav-item.active {
        color: var(--primary);
      }

      .nav-item i {
        font-size: 1.25rem;
      }

      /* Side Menu */
      .side-menu {
        position: fixed;
        top: 0;
        left: -300px;
        width: 300px;
        height: 100vh;
        background: var(--surface);
        border-right: 1px solid var(--border);
        box-shadow: var(--shadow-xl);
        z-index: 1000;
        transition: left 0.3s ease;
        overflow-y: auto;
      }

      .side-menu.open {
        left: 0;
      }

      .side-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .side-menu-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .side-menu-header {
        padding: 1.5rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .side-menu-logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .side-menu-close {
        background: none;
        border: none;
        font-size: 1.25rem;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 6px;
      }

      .side-menu-close:hover {
        background: var(--background);
      }

      .side-menu-subtitle {
        font-size: 0.875rem;
        color: var(--text-secondary);
        margin-top: 0.25rem;
      }

      .side-menu-nav {
        padding: 1rem 0;
      }

      .side-menu-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem 1.5rem;
        color: var(--text-primary);
        text-decoration: none;
        transition: background-color 0.2s ease;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        font-size: 1rem;
      }

      .side-menu-item:hover {
        background: var(--background);
      }

      .side-menu-item.active {
        background: rgba(79, 70, 229, 0.1);
        color: var(--primary);
      }

      .side-menu-item.logout {
        color: var(--error);
        border-top: 1px solid var(--border);
        margin-top: 1rem;
      }

      .side-menu-item.logout:hover {
        background: rgba(239, 68, 68, 0.1);
      }

      .side-menu-icon {
        width: 20px;
        text-align: center;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .main-content {
          padding: 1rem;
        }

        .case-details {
          grid-template-columns: 1fr;
        }

        .search-container {
          flex-direction: column;
          align-items: stretch;
        }

        .case-actions {
          flex-direction: column;
        }

        .page-header {
          flex-direction: column;
          gap: 1rem;
        }
      }

      /* Notification Modal Styles */
      .notification-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }

      .notification-content {
        background: var(--surface);
        border-radius: 1rem;
        box-shadow: var(--shadow-xl);
        width: 100%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
      }

      .notification-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem 2rem;
        border-bottom: 1px solid var(--border);
      }

      .notification-header h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-primary);
      }

      .notification-close {
        width: 32px;
        height: 32px;
        border: none;
        background: transparent;
        color: var(--text-secondary);
        cursor: pointer;
        border-radius: 0.25rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .notification-close:hover {
        background: var(--border);
        color: var(--text-primary);
      }

      .notification-body {
        padding: 0;
      }

      .notification-item {
        padding: 1.5rem 2rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        gap: 1rem;
        transition: background-color 0.2s ease;
        position: relative;
      }

      .notification-item:hover {
        background: var(--background);
      }

      .notification-item:last-child {
        border-bottom: none;
      }

      .notification-icon-wrapper {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        flex-shrink: 0;
      }

      .notification-icon-wrapper.error {
        background: rgba(239, 68, 68, 0.1);
        color: var(--error);
      }

      .notification-icon-wrapper.warning {
        background: rgba(245, 158, 11, 0.1);
        color: var(--warning);
      }

      .notification-icon-wrapper.success {
        background: rgba(16, 185, 129, 0.1);
        color: var(--success);
      }

      .notification-icon-wrapper.primary {
        background: rgba(76, 76, 221, 0.1);
        color: var(--primary);
      }

      .notification-details {
        flex: 1;
      }

      .notification-title {
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
      }

      .notification-message {
        color: var(--text-secondary);
        font-size: 0.875rem;
        line-height: 1.4;
        margin-bottom: 0.5rem;
      }

      .notification-time {
        color: var(--text-muted);
        font-size: 0.75rem;
      }

      .notification-badge-new {
        width: 8px;
        height: 8px;
        background: var(--error);
        border-radius: 50%;
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
      }
    </style>
  </head>
  <body>
    <!-- Side Menu Overlay -->
    <div class="side-menu-overlay" id="sideMenuOverlay"></div>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
      <div class="side-menu-header">
        <div class="side-menu-logo">
          <div class="logo-icon">
            <i class="fas fa-balance-scale"></i>
          </div>
          <div>
            <span class="logo-text">AI Advocates</span>
            <div class="side-menu-subtitle">Legal Practice Management</div>
          </div>
        </div>
        <button class="side-menu-close" onclick="closeSideMenu()">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <nav class="side-menu-nav">
        <a href="home.html" class="side-menu-item">
          <i class="fas fa-home side-menu-icon"></i>
          Home
        </a>
        <a href="team.html" class="side-menu-item">
          <i class="fas fa-users side-menu-icon"></i>
          My Team
        </a>
        <a href="cases.html" class="side-menu-item active">
          <i class="fas fa-file-alt side-menu-icon"></i>
          <span data-lang="cases">Cases</span>
        </a>
        <a href="calendar.html" class="side-menu-item">
          <i class="fas fa-calendar side-menu-icon"></i>
          Calendar
        </a>
        <a href="more.html" class="side-menu-item">
          <i class="fas fa-th side-menu-icon"></i>
          More
        </a>
        <button class="side-menu-item logout" onclick="logoutFromApp()">
          <i class="fas fa-sign-out-alt side-menu-icon"></i>
          Log Out
        </button>
      </nav>
    </div>

    <div class="app-container">
      <!-- Header -->
      <div class="header">
        <div class="header-left">
          <button class="menu-toggle" onclick="openSideMenu()">
            <i class="fas fa-bars"></i>
          </button>
          <div class="logo-container">
            <div class="logo-icon">
              <i class="fas fa-balance-scale"></i>
            </div>
            <span class="logo-text">AI Advocates</span>
          </div>
        </div>
        <div class="header-right">
          <button class="notification-icon" onclick="openNotifications()">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
          <div class="user-avatar">A</div>
          <button class="notification-icon" onclick="logoutFromApp()">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>

      <!-- Success Banner -->
      <div class="success-banner" id="successBanner">
        <div class="success-icon">
          <i class="fas fa-check"></i>
        </div>
        <span id="successMessage">Case created successfully!</span>
        <button class="close-btn" onclick="closeSuccessBanner()">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Page Header -->
        <div class="page-header">
          <div class="page-title-section">
            <h1>Cases</h1>

            <!-- Breadcrumb -->
            <nav class="breadcrumb">
              <a href="home.html" class="breadcrumb-item">
                <i class="fas fa-home"></i>
                Home
              </a>
              <span class="breadcrumb-separator">
                <i class="fas fa-chevron-right"></i>
              </span>
              <span class="breadcrumb-item active">
                <i class="fas fa-file-alt"></i>
                <span data-lang="cases">Cases</span>
              </span>
            </nav>

            <p class="page-subtitle">Manage your legal cases and proceedings</p>
          </div>

          <!-- Action Button -->
          <button
            class="add-case-btn"
            onclick="window.location.href='create-case.html'"
          >
            <i class="fas fa-plus"></i>
            Add New Case
          </button>
        </div>

        <!-- Tabs -->
        <div class="tabs-container">
          <div class="tabs">
            <div class="tab active" data-tab="todays">Today's</div>
            <div class="tab" data-tab="upcoming">Upcoming</div>
            <div class="tab" data-tab="pending">Pending</div>
            <div class="tab" data-tab="disposed">Disposed</div>
            <div class="tab" data-tab="appealed">Appealed</div>
            <div class="tab" data-tab="settled">Settled</div>
          </div>
        </div>

        <!-- Search -->
        <div class="search-container">
          <div class="search-box">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              class="search-input"
              placeholder="Enter Case Number"
            />
          </div>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
          <!-- Today's Cases Tab -->
          <div class="tab-pane active" id="todays-tab">
            <div class="cases-list">
              <!-- Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">State vs. John Doe</div>
                    <div class="case-subtitle">
                      Client: John Doe | Opponent: State of Delhi
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge active">Active</span>
                    <span class="status-badge criminal">Criminal</span>
                  </div>
                </div>

                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value">District Court, Delhi</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value"
                      >Hon'ble Justice A.K. Sharma</span
                    >
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Next Hearing</span>
                    <span class="detail-value">2024-01-15</span>
                  </div>
                </div>

                <div style="display: flex; gap: 0.5rem; margin: 1rem 0">
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Bail</span
                  >
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Section 420</span
                  >
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Economic Offense</span
                  >
                </div>

                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('1')"
                  >
                    View Details
                  </button>
                </div>

                <div class="case-meta">Last updated: 2024-01-10</div>
              </div>

              <!-- Case 2 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Smith Property Dispute</div>
                    <div class="case-subtitle">
                      Client: Mr. Smith | Opponent: ABC Developers
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge pending">Pending</span>
                    <span class="status-badge civil">Civil</span>
                  </div>
                </div>

                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value">High Court, Delhi</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice B.K. Patel</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Next Hearing</span>
                    <span class="detail-value">2024-01-18</span>
                  </div>
                </div>

                <div style="display: flex; gap: 0.5rem; margin: 1rem 0">
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Property</span
                  >
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Civil Suit</span
                  >
                  <span
                    style="
                      padding: 0.25rem 0.75rem;
                      background: var(--background);
                      color: var(--text-secondary);
                      border-radius: 20px;
                      font-size: 0.75rem;
                    "
                    >Injunction</span
                  >
                </div>

                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('2')"
                  >
                    View Details
                  </button>
                </div>

                <div class="case-meta">Last updated: 2024-01-08</div>
              </div>
            </div>
          </div>

          <!-- Upcoming Cases Tab -->
          <div class="tab-pane" id="upcoming-tab">
            <div class="cases-list">
              <!-- Upcoming Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Estate Planning Matter</div>
                    <div class="case-subtitle">
                      Client: Mrs. Verma | Opponent: Legal Heirs
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge pending">Upcoming</span>
                    <span class="status-badge civil">Civil</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value">District Court, Mumbai</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice R.K. Singh</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Next Hearing</span>
                    <span class="detail-value">2024-01-25</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('3')"
                  >
                    View Details
                  </button>
                </div>
                <div class="case-meta">Last updated: 2024-01-12</div>
              </div>

              <!-- Upcoming Case 2 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Contract Breach Litigation</div>
                    <div class="case-subtitle">
                      Client: Tech Solutions Ltd | Opponent: Global Corp
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge pending">Upcoming</span>
                    <span class="status-badge commercial">Commercial</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value"
                      >Commercial Court, Bangalore</span
                    >
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice S.P. Reddy</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Next Hearing</span>
                    <span class="detail-value">2024-01-30</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('4')"
                  >
                    View Details
                  </button>
                </div>
                <div class="case-meta">Last updated: 2024-01-11</div>
              </div>
            </div>
          </div>

          <!-- Pending Cases Tab -->
          <div class="tab-pane" id="pending-tab">
            <div class="cases-list">
              <!-- Pending Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Employment Dispute</div>
                    <div class="case-subtitle">
                      Client: Mr. Patel | Opponent: XYZ Industries
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge pending">Pending</span>
                    <span class="status-badge labor">Labor</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value">Labor Court, Pune</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice M.A. Khan</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Status</span>
                    <span class="detail-value">Awaiting Documents</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('5')"
                  >
                    View Details
                  </button>
                </div>
                <div class="case-meta">Last updated: 2024-01-05</div>
              </div>
            </div>
          </div>

          <!-- Disposed Cases Tab -->
          <div class="tab-pane" id="disposed-tab">
            <div class="cases-list">
              <!-- Disposed Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Traffic Violation Case</div>
                    <div class="case-subtitle">
                      Client: Mr. Kumar | Opponent: Traffic Police
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge disposed">Disposed</span>
                    <span class="status-badge criminal">Criminal</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Court</span>
                    <span class="detail-value">Magistrate Court, Delhi</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice L.M. Gupta</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Disposal Date</span>
                    <span class="detail-value">2023-12-15</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('6')"
                  >
                    View Details
                  </button>
                  <button class="action-btn archive-btn">Archive Case</button>
                </div>
                <div class="case-meta">Disposed on: 2023-12-15</div>
              </div>
            </div>
          </div>

          <!-- Appealed Cases Tab -->
          <div class="tab-pane" id="appealed-tab">
            <div class="cases-list">
              <!-- Appealed Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Land Acquisition Appeal</div>
                    <div class="case-subtitle">
                      Client: Farmers Union | Opponent: State Government
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge appealed">Appealed</span>
                    <span class="status-badge civil">Civil</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Appeal Court</span>
                    <span class="detail-value">High Court, Delhi</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Judge</span>
                    <span class="detail-value">Hon'ble Justice D.K. Jain</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Appeal Date</span>
                    <span class="detail-value">2024-01-20</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('7')"
                  >
                    View Details
                  </button>
                </div>
                <div class="case-meta">Appeal filed: 2024-01-02</div>
              </div>
            </div>
          </div>

          <!-- Settled Cases Tab -->
          <div class="tab-pane" id="settled-tab">
            <div class="cases-list">
              <!-- Settled Case 1 -->
              <div class="case-card">
                <div class="case-header">
                  <div>
                    <div class="case-title">Family Property Settlement</div>
                    <div class="case-subtitle">
                      Client: Sharma Family | Opponent: Extended Family
                    </div>
                  </div>
                  <div class="case-status">
                    <span class="status-badge settled">Settled</span>
                    <span class="status-badge family">Family</span>
                  </div>
                </div>
                <div class="case-details">
                  <div class="case-detail">
                    <span class="detail-label">Mediation Center</span>
                    <span class="detail-value">Lok Adalat, Chennai</span>
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Mediator</span>
                    <span class="detail-value"
                      >Justice (Retd.) A.R. Krishnan</span
                    >
                  </div>
                  <div class="case-detail">
                    <span class="detail-label">Settlement Date</span>
                    <span class="detail-value">2023-12-20</span>
                  </div>
                </div>
                <div class="case-actions">
                  <button
                    class="action-btn view-btn"
                    onclick="viewCaseDetails('8')"
                  >
                    View Details
                  </button>
                  <button class="action-btn archive-btn">Archive Case</button>
                </div>
                <div class="case-meta">Settled on: 2023-12-20</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Navigation -->
      <div class="bottom-nav">
        <div class="nav-items">
          <a href="home.html" class="nav-item">
            <i class="fas fa-home"></i>
            Home
          </a>
          <a href="team.html" class="nav-item">
            <i class="fas fa-users"></i>
            My Team
          </a>
          <a href="cases.html" class="nav-item active">
            <i class="fas fa-file-alt"></i>
            <span data-lang="cases">Cases</span>
          </a>
          <a href="calendar.html" class="nav-item">
            <i class="fas fa-calendar"></i>
            Calendar
          </a>
          <a href="more.html" class="nav-item">
            <i class="fas fa-th"></i>
            More
          </a>
        </div>
      </div>
    </div>

    <!-- Notification Modal -->
    <div class="notification-modal" id="notificationModal">
      <div class="notification-content">
        <div class="notification-header">
          <h3>
            <i class="fas fa-bell" style="margin-right: 0.5rem; color: var(--warning);"></i>
            Notifications & Reminders
          </h3>
          <button class="notification-close" onclick="closeNotifications()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="notification-body">
          <!-- High Priority Notifications -->
          <div class="notification-item">
            <div class="notification-icon-wrapper error">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="notification-details">
              <div class="notification-title">Urgent: Court Hearing Tomorrow</div>
              <div class="notification-message">
                State vs. John Doe case hearing scheduled for tomorrow at 10:30 AM. Ensure all documents are prepared.
              </div>
              <div class="notification-time">2 hours ago</div>
            </div>
            <div class="notification-badge-new"></div>
          </div>

          <div class="notification-item">
            <div class="notification-icon-wrapper warning">
              <i class="fas fa-clock"></i>
            </div>
            <div class="notification-details">
              <div class="notification-title">Payment Reminder</div>
              <div class="notification-message">
                Client Mr. Smith has pending payment of ₹1,00,000 for Property Dispute case. Follow up required.
              </div>
              <div class="notification-time">5 hours ago</div>
            </div>
            <div class="notification-badge-new"></div>
          </div>

          <div class="notification-item">
            <div class="notification-icon-wrapper primary">
              <i class="fas fa-file-alt"></i>
            </div>
            <div class="notification-details">
              <div class="notification-title">Document Submission Deadline</div>
              <div class="notification-message">
                Reply submission due for ABC vs. XYZ case by January 30th. 3 days remaining.
              </div>
              <div class="notification-time">1 day ago</div>
            </div>
            <div class="notification-badge-new"></div>
          </div>

          <div class="notification-item">
            <div class="notification-icon-wrapper success">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="notification-details">
              <div class="notification-title">Case Update Successful</div>
              <div class="notification-message">
                Employment Dispute case status updated to "Under Trial". Next hearing scheduled.
              </div>
              <div class="notification-time">2 days ago</div>
            </div>
          </div>

          <div class="notification-item">
            <div class="notification-icon-wrapper warning">
              <i class="fas fa-calendar-times"></i>
            </div>
            <div class="notification-details">
              <div class="notification-title">Hearing Adjourned</div>
              <div class="notification-message">
                Land Acquisition Appeal hearing has been adjourned. New date to be announced by court.
              </div>
              <div class="notification-time">3 days ago</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        // Check for case creation success message
        checkForSuccessMessage();

        // Load and display cases from localStorage
        loadCasesFromStorage();

        // Tab switching
        $(".tab").on("click", function () {
          const tabName = $(this).data("tab");

          // Update active tab
          $(".tab").removeClass("active");
          $(this).addClass("active");

          // Update active tab pane
          $(".tab-pane").removeClass("active");
          $("#" + tabName + "-tab").addClass("active");
        });

        // Navigation
        $(".nav-item").on("click", function (e) {
          const href = $(this).attr("href");
          if (href && href !== "#") {
            window.location.href = href;
          }
        });

        // Menu toggle
        $(".menu-toggle").on("click", function () {
          openSideMenu();
        });

        // Search functionality
        $(".search-input").on("input", function () {
          const searchTerm = $(this).val().toLowerCase();
          $(".case-card").each(function () {
            const caseText = $(this).text().toLowerCase();
            if (caseText.includes(searchTerm)) {
              $(this).show();
            } else {
              $(this).hide();
            }
          });
        });

        // Logout functionality
        $(".notification-icon").on("click", function () {
          if ($(this).find(".fa-sign-out-alt").length) {
            logoutFromApp();
          }
        });
      });

      // Side menu functions
      function openSideMenu() {
        $("#sideMenu").addClass("open");
        $("#sideMenuOverlay").addClass("show");
      }

      function closeSideMenu() {
        $("#sideMenu").removeClass("open");
        $("#sideMenuOverlay").removeClass("show");
      }

      function logoutFromApp() {
        window.location.href = "index.html";
      }

      // Close menu when clicking overlay
      $("#sideMenuOverlay").on("click", function () {
        closeSideMenu();
      });

      // View case details function
      function viewCaseDetails(caseId) {
        window.location.href = `case-details.html?id=${caseId}`;
      }

      // Load cases from localStorage and display them
      function loadCasesFromStorage() {
        const cases = JSON.parse(localStorage.getItem('cases_list') || '[]');

        if (cases.length > 0) {
          // Clear existing static cases and add new ones
          displayCases(cases);
        }
      }

      function displayCases(cases) {
        // Get today's date for filtering
        const today = new Date().toISOString().split('T')[0];

        // Clear all tab contents except the static cases (keep them as examples)
        // We'll add new cases to the top of each relevant tab

        cases.forEach(caseData => {
          const caseCard = createCaseCard(caseData);

          // Add to appropriate tabs based on status and dates
          if (caseData.status === 'Active') {
            $('#todays-tab .cases-list').prepend(caseCard);
          } else if (caseData.status === 'Pending') {
            $('#pending-tab .cases-list').prepend(caseCard.clone());
          } else if (caseData.status === 'Disposed') {
            $('#disposed-tab .cases-list').prepend(caseCard.clone());
          } else if (caseData.status === 'Appeal Filed') {
            $('#appealed-tab .cases-list').prepend(caseCard.clone());
          } else if (caseData.status === 'Settled') {
            $('#settled-tab .cases-list').prepend(caseCard.clone());
          }

          // Also add to upcoming if there's a next hearing date in the future
          if (caseData.next_hearing_date && caseData.next_hearing_date > today) {
            $('#upcoming-tab .cases-list').prepend(caseCard.clone());
          }
        });
      }

      function createCaseCard(caseData) {
        const caseTypeClass = getCaseTypeClass(caseData.case_type);
        const statusClass = getStatusClass(caseData.status);

        return $(`
          <div class="case-card">
            <div class="case-header">
              <div>
                <div class="case-title">${caseData.case_title || 'Untitled Case'}</div>
                <div class="case-subtitle">
                  Client: ${caseData.client_name || 'N/A'} | Court: ${caseData.court_name || 'N/A'}
                </div>
              </div>
              <div class="case-badges">
                <span class="status-badge ${statusClass}">${caseData.status || 'Active'}</span>
                <span class="status-badge ${caseTypeClass}">${caseData.case_type || 'General'}</span>
              </div>
            </div>
            <div class="case-details">
              <div class="case-detail-item">
                <span class="detail-label">Court:</span>
                <span class="detail-value">${caseData.court_name || 'N/A'}</span>
              </div>
              <div class="case-detail-item">
                <span class="detail-label">Judge:</span>
                <span class="detail-value">${caseData.judge_name || 'N/A'}</span>
              </div>
              <div class="case-detail-item">
                <span class="detail-label">Next Hearing:</span>
                <span class="detail-value">${formatDate(caseData.next_hearing_date) || 'Not scheduled'}</span>
              </div>
              <div class="case-detail-item">
                <span class="detail-label">Case Number:</span>
                <span class="detail-value">${caseData.case_number || 'Not assigned'}</span>
              </div>
              <div class="case-detail-item">
                <span class="detail-label">Filing Date:</span>
                <span class="detail-value">${formatDate(caseData.filing_date) || 'N/A'}</span>
              </div>
            </div>
            <div class="case-actions">
              <button class="btn btn-outline btn-sm" onclick="viewCaseDetails('${caseData.id}')">
                View Details
              </button>
              <button class="btn btn-outline btn-sm" onclick="editCase('${caseData.id}')">
                Edit
              </button>
              ${caseData.status === 'Active' ? `
                <button class="btn btn-warning btn-sm" onclick="disposeCase('${caseData.id}')">
                  Dispose
                </button>
              ` : ''}
            </div>
          </div>
        `);
      }

      function getCaseTypeClass(caseType) {
        const typeMap = {
          'Criminal': 'criminal',
          'Civil': 'civil',
          'Commercial': 'commercial',
          'Family': 'family',
          'Labor': 'labor',
          'Corporate': 'commercial',
          'Property': 'civil',
          'Tax': 'commercial',
          'Matrimonial': 'family'
        };
        return typeMap[caseType] || 'civil';
      }

      function getStatusClass(status) {
        const statusMap = {
          'Active': 'active',
          'Pending': 'pending',
          'Disposed': 'disposed',
          'Appeal Filed': 'appealed',
          'Settled': 'settled'
        };
        return statusMap[status] || 'active';
      }

      function formatDate(dateString) {
        if (!dateString) return null;
        const date = new Date(dateString);
        return date.toLocaleDateString('en-IN', {
          year: 'numeric',
          month: 'short',
          day: 'numeric'
        });
      }

      function editCase(caseId) {
        window.location.href = `create-case.html?mode=edit&id=${caseId}`;
      }

      function disposeCase(caseId) {
        window.location.href = `create-case.html?mode=edit&action=dispose&id=${caseId}`;
      }

      // Check for success message from case creation
      function checkForSuccessMessage() {
        const successData = localStorage.getItem('case_creation_success');

        if (successData) {
          try {
            const success = JSON.parse(successData);
            const messageAge = Date.now() - success.timestamp;

            // Show message if it's less than 10 seconds old
            if (messageAge < 10000) {
              showSuccessBanner(success.message, success.caseId);
            }

            // Remove the success message from storage
            localStorage.removeItem('case_creation_success');
          } catch (error) {
            console.error('Error parsing success message:', error);
            localStorage.removeItem('case_creation_success');
          }
        }
      }

      function showSuccessBanner(message, caseId) {
        const $banner = $('#successBanner');
        const $message = $('#successMessage');

        $message.text(message);
        $banner.addClass('show');

        // Auto-hide after 5 seconds
        setTimeout(() => {
          $banner.removeClass('show');
        }, 5000);

        // Highlight the new case if it exists
        if (caseId) {
          setTimeout(() => {
            highlightNewCase(caseId);
          }, 1000); // Give time for cases to load
        }
      }

      function highlightNewCase(caseId) {
        // Find the case card with the matching case ID
        $('.case-card').each(function() {
          const $card = $(this);
          const cardText = $card.text();

          // Check if this card contains the case ID
          if (cardText.includes(caseId)) {
            // Add highlight effect
            $card.css({
              'animation': 'highlightPulse 2s ease-in-out',
              'border': '2px solid var(--success)',
              'background': 'rgba(16, 185, 129, 0.05)'
            });

            // Scroll to the case card
            $card[0].scrollIntoView({
              behavior: 'smooth',
              block: 'center'
            });

            // Remove highlight after 3 seconds
            setTimeout(() => {
              $card.css({
                'animation': '',
                'border': '',
                'background': ''
              });
            }, 3000);

            return false; // Break the loop
          }
        });
      }

      function closeSuccessBanner() {
        $('#successBanner').removeClass('show');
      }

      // Add highlight animation keyframes
      function addHighlightStyles() {
        const style = document.createElement('style');
        style.textContent = `
          @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
          }
        `;
        document.head.appendChild(style);
      }

      // Initialize highlight styles
      $(document).ready(function() {
        addHighlightStyles();
      });

      // Expose function globally
      window.closeSuccessBanner = closeSuccessBanner;

      // Notification functions
      function openNotifications() {
        $("#notificationModal").css("display", "flex");
        // Mark notifications as read (optional)
        $(".notification-badge-new").fadeOut();
      }

      function closeNotifications() {
        $("#notificationModal").hide();
      }

      // Close notification modal when clicking overlay
      $("#notificationModal").on("click", function(e) {
        if (e.target === this) {
          closeNotifications();
        }
      });
    </script>
  </body>
</html>
